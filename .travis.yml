language: python
python:
  - 2.6
  - 2.7
  - 3.3
  - "pypy"
env:
  - TEST_GMPY="true"
  - TEST_GMPY="false"
matrix:
  exclude:
    - python: "pypy"
      env: TEST_GMPY="true"
  allow_failures:
    - python: 3.3
before_install:
  - if [[ "${TEST_GMPY}" == "true" ]]; then
      sudo apt-get update -qq;
      sudo apt-get install -qq libgmp-dev;
      pip install "gmpy==1.16";
    fi
  - pip install sympy --use-mirrors
install:
  - "python setup.py install"
script:
  - "python mathics/test.py"
after_script:
  - "python mathics/benchmark.py"
notifications:
  email: false
